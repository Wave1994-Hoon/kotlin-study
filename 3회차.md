# 생성자
![image](https://user-images.githubusercontent.com/60383031/200048353-b75c5104-1ed2-442c-a79d-a24cb67b32e7.png)

코틀린의 생성자는 주생성자, 부생성자로 나뉠 수 있다.

부생성자는 반드시 주생성자를 호출하게 된다.

<br>

![image](https://user-images.githubusercontent.com/60383031/200049313-00e24655-501b-482e-a091-11b7c0c2c934.png)


부생성자는 주생성자를 호출하고 주생성자는 init 을 호출한다.

호출순서를 정리하면 `부생성자 호출 -> 주생성자 호출 -> init 블록` 실행 순으로 이어진다.

추가로 코틀린의 init 블록과 자바의 static 블록은 차이가 있다.

코틀린의 init 은 주생성자에 병합되는 코드이다. 

<br>

![image](https://user-images.githubusercontent.com/60383031/200049940-c05f8282-f3ce-4711-9ddf-dc7ce824cd2f.png)

init 블록을 여러개 사용한다면 위 예제처럼 순차적으로 실행이 된다. 

따라서 보통 코틀린에서는 init 블록을 가장 마지막에 넣는다. 왜냐하면 모든 정의가 끝난 후에 사용하기 위해서이다.

코드 리팩토링 과정 중 init 블록 순서가 뒤바뀐다면 코드 결과가 바뀔 수 있다.

<br>

![image](https://user-images.githubusercontent.com/60383031/200050401-67eb3740-9eb3-4eb2-8ec8-18a26916ac78.png)

주 생성자 속성할당이 먼저 일어나고 그 다음 순차적으로 실행이 된다.


## 베스트 예제
![image](https://user-images.githubusercontent.com/60383031/200050732-5d762006-d053-4ff7-b583-23fecd86464d.png)
![image](https://user-images.githubusercontent.com/60383031/200050938-cfa0879c-f250-4087-8937-338cc9232eef.png)

![image](https://user-images.githubusercontent.com/60383031/200051233-cd60d64c-1d1a-42d1-a60c-b4767400773e.png)
-> 이런 케이스는 주 생성자 하나만 받고 Factory 를 만드는 것이 나을 것 같다.
